<div class="container-page">
  <div class="my-4 d-flex align-items-center justify-content-between">
    <h3 class="fw-bold">Nova proposta</h3>
  </div>

  <div>
    <h5 class="form-label">
      Afegeix un títol descriptiu
    </h5>

    <input [(ngModel)]="proposal" class="form-control bg-white shadow-none" placeholder="Títol de la proposta">
  </div>
  <div class="my-4">
    <h5 class="form-label">
      Descriu els aspectes principals de la teva proposta
    </h5>

    <textarea [(ngModel)]="proposalDescription" class="form-control bg-white shadow-none" placeholder="Hola, m'agradaria proposar..." id="description"
              style="height: 100px"></textarea>
    <label class="mt-2">Recorda usar un llenguatge respectuós, un text breu, clar i descriptiu de la teva proposta</label>
  </div>

  <div class="row">
    <div class="col-6 col-md-2">
      <label class="form-label">Data d'expiració</label>
      <p-calendar [(ngModel)]="date"  iconDisplay="input" [showIcon]="true"
                  [minDate]="minDate" [dateFormat]="'dd-mm-yy'" styleClass="w-100"/>
    </div>
    <div class="col-6 col-md-2">
      <label class="form-label">Minim de vots</label>
      <div class="input-group mb-3">
        <input type="number" class="form-control bg-white shadow-none" [(ngModel)]="minVotes" max="100">
        <span class="input-group-text bg-primary text-white">%</span>
      </div>
    </div>
    <div class="col-6 col-md-2">
      <label class="form-label">Transparència</label>
      <div class="form-check form-switch">
        <input class="form-check-input bg-white shadow-none" type="checkbox" role="switch"
               (click)="setTransparentStatus()" [(ngModel)]="transparentStatus">
      </div>
    </div>
    <div class="col-6 col-md-2">
      <label class="form-label">Estat</label>
      <select class="form-select bg-white shadow-none" [(ngModel)]="status">
        <option selected [value]="'active'">Activa</option>
        <option [value]="'pending'">Pendent</option>
      </select>
    </div>
    <div class="col-6 col-md-2">
      <label class="form-label">Tipus</label>
      <select class="form-select bg-white shadow-none" [(ngModel)]="status">
        <option selected [value]="'active'">Activa</option>
        <option [value]="'pending'">Pendent</option>
      </select>
    </div>
  </div>

  <hr class="mx-5">

  <div>
    <div *ngFor="let option of options, let i = index" class="input-group mb-3">
      <input type="text" class="form-control bg-white" [value]="option">
      <button *ngIf="i != 0 && options.length >= 2 && i == options.length-1"
              class="btn btn-outline-secondary bg-success text-white" type="button" (click)="addOption()">
        +
      </button>
      <button *ngIf="i != 0 && options.length > 2 && i != options.length-1" id="remove-{{i}}"
              class="btn btn-outline-secondary bg-warning text-white" type="button" (click)="removeOption(i)">
        -
      </button>
    </div>
  </div>

  <div class="my-5">
    <button class="btn btn-secondary" style="min-width: 100px" (click)="saveProposal()" [disabled]="loading">
      <span *ngIf="!loading">
        Desa
      </span>
      <i *ngIf="loading" class="fa-solid fa-spinner fa-spin"></i>
    </button>
  </div>

</div>
