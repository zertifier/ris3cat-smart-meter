<div class="d-flex justify-content-evenly mb-3">
  <button (click)="setDateRange(DateRange.DAY)" class="btn rounded-4 py-3 px-5"
          [ngClass]="(dateRange$ | async) === DateRange.DAY ? 'btn-active' : 'btn-inactive'">
    Diari
  </button>
  <button (click)="setDateRange(DateRange.MONTH)" class="btn rounded-4 py-3 px-5"
          [ngClass]="(dateRange$ | async) === DateRange.MONTH ? 'btn-active' : 'btn-inactive'">
    Mensual
  </button>
  <button (click)="setDateRange(DateRange.YEAR)" class="btn rounded-4 py-3 px-5"
          [ngClass]="(dateRange$ | async) === DateRange.YEAR ? 'btn-active' : 'btn-inactive'">
    Anual
  </button>
</div>
<div class="row justify-content-center">
  <div class="col-md-3 mb-4">
    <p-calendar [maxDate]="maxDate" (onSelect)="setDate($event)" [ngModel]="date$ | async" iconDisplay="input"
                [dateFormat]="(dateFormat$ | async) || 'yy'" [showIcon]="true" styleClass="w-100"
                [view]="(calendarView$ | async) || 'month'"/>
  </div>
</div>

@if (!(fetchingData$ | async)) {
  <app-data-chart [data]="data"/>
  <app-chart-legend [labels]="chartLabels"/>
} @else {
  <div class="w-100 d-flex justify-content-center flex-column gap-2 align-items-center">
    <h4>Carregant dades</h4>
    <div>
      <i class="fa-solid fa-spinner fa-spin"></i>
    </div>
  </div>
}
