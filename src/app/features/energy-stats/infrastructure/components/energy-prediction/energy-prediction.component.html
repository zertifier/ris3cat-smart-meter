<ng-container *transloco="let t; prefix: 'PREDICTIONS'">
  <!-- <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold">{{ t('energy.title') }}</h5> -->
  <div *ngIf="!loading">
    <!-- <app-energy-prediction-chart [dataset]="datasets" [labels]="labels"/> -->

    <!-- PREDICCIÓ PRODUCCIÓ ENERGIA -->
    <div *ngIf="productionPrediction.length">
      @if(community){
        <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleActivesProduction') }}</h5>
      }
      @else{
        <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleProduction') }}</h5>
      }
      <div class="row mx-0 mb-5">
        @for (prediction of productionPrediction; track $index) {
          <div class="col-4 col-md-2 d-flex flex-column mb-3">
            @if (prediction.value > -1) {
              <div class="circle production">{{ prediction.value }} kWh</div>
            } @else {
              <div class="circle unavailable text-center">{{ t('energy.unavailable') }}</div>
            }
            <div class="text-center text-capitalize mt-2">{{ prediction.date }}</div>
          </div>
        }
        <div>
          {{ t('energy.productionDescription') }}
        </div>

      </div>
    </div>
    <!--  -->

    <!-- PREDICCIÓ EXCEDENT ENERGIA -->
    <div *ngIf="surplusPrediction.length">
      @if(community){
      <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleActivesSurplus') }}</h5>
      }
      @else{
        <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleSurplus') }}</h5>
      }
      <div class="row mx-0 mb-5">
        @for (prediction of surplusPrediction; track $index) {
          <div class="col-4 col-md-2 d-flex flex-column mb-3">
            @if (prediction.value > -1) {
              <div class="circle surplus">{{ prediction.value }} kWh</div>
            } @else {
              <div class="circle unavailable text-center">{{ t('energy.unavailable') }}</div>
            }
            <div class="text-center text-capitalize mt-2">{{ prediction.date }}</div>
          </div>
        }
        <div>
          {{ t('energy.surplusDescription') }}
        </div>

      </div>
    </div>

    <!-- PREDICCIÓ CONSUM ENERGIA -->
    <div *ngIf="consumptionPrediction.length">
      @if(community){
      <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleActivesConsumption') }}</h5>
      }
      @else{
        <h5 style="margin: 2rem 0 2rem 0;" class="fw-bold text-center">{{ t('energy.titleConsumption') }}</h5>
      }
      <div class="row mx-0 mb-5">
        @for (prediction of consumptionPrediction; track $index) {
          <div class="col-4 col-md-2 d-flex flex-column mb-3">
            @if (prediction.value > -1) {
            <div class="circle consumption">{{ prediction.value }} kWh</div>
            }
            @else {
              <div class="circle unavailable text-center">{{ t('energy.unavailable') }}</div>
            }
            <div class="text-center text-capitalize mt-2">{{ prediction.date }}</div>
          </div>
        }
      </div>
    </div>

    <!--  -->

  </div>

  <div *ngIf="loading" class="text-center mt-5">
    <i class="fa-solid fa-spinner fa-spin fs-2"></i>
  </div>
</ng-container>
